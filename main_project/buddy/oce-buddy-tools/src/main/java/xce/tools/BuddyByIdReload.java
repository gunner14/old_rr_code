package xce.tools;import java.io.BufferedReader;import java.io.File;import java.io.FileReader;import java.util.ArrayList;import java.util.List;import java.util.concurrent.TimeUnit;import com.xiaonei.xce.buddyadapter.buddybyidcache.BuddyByIdCacheAdapter;public class BuddyByIdReload {  static void usage() {    System.out.println("Usage: BuddyByIdReload <input_id_list> <output>");  }  static void test() {    try {      BuddyByIdCacheAdapter.getInstance().reload(286162347);    } catch (Exception e) {      e.printStackTrace();    }  }  public static void main(String[] args) {    if (args.length < 2) {      usage();      System.exit(0);    }    List<Integer> inputList = new ArrayList<Integer>();    try {      BufferedReader reader = new BufferedReader(new FileReader(new File(args[0])));      String line = null;      while ((line = reader.readLine()) != null) {        try {          inputList.add(Integer.parseInt(line));        } catch (Exception e) {          continue;        }      }      reader.close();    } catch (Exception e) {      e.printStackTrace();    }    if (inputList.isEmpty()) {      System.out.println("inputList is empty()");      System.exit(0);    }    System.out.println("inputList.size():" + inputList.size());    int loop = 0;    for (Integer id : inputList) {      try {        BuddyByIdCacheAdapter.getInstance().reload(id);        ++loop;        TimeUnit.MILLISECONDS.sleep(50);        System.out.println("BuddyByIdCacheAdapter.getInstance().reload" + "\t" + id);      } catch (Exception e) {        e.printStackTrace();      }    }    System.exit(0);  }}